!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("quill")):"function"==typeof define&&define.amd?define(["quill"],t):"object"==typeof exports?exports.quill1Table=t(require("quill")):e.quill1Table=t(e.quill)}(self,(e=>(()=>{var t={924:(e,t,n)=>{"use strict";var r=n(210),o=n(559),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},559:(e,t,n)=>{"use strict";var r=n(612),o=n(210),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),s=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var t=l(r,a,arguments);if(c&&s){var n=c(t,"length");n.configurable&&s(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var p=function(){return l(r,i,arguments)};s?s(e.exports,"apply",{value:p}):e.exports.apply=p},549:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([e.id,'.ql-editor table {\n  width: 100%;\n  border-collapse: collapse;\n  table-layout: fixed;\n  overflow:hidden;\n  white-space: nowrap;\n}\n\n.ql-editor table td {\n  border: 1px solid black;\n  padding: 2px 5px;\n  height: 25px;\n  vertical-align: top;\n  white-space: pre-wrap; /* https://github.com/quilljs/quill/issues/1760 */\n}\n\n.ql-editor table td[rowspan="2"] {\n  height: 50px;\n}\n\n.ql-editor table td[rowspan="3"] {\n  height: 75px;\n}\n\n.ql-editor table td[rowspan="4"] {\n  height: 100px;\n}\n\n.ql-editor table td[rowspan="5"] {\n  height: 125px;\n}\n\n.ql-editor table td[rowspan="6"] {\n  height: 150px;\n}\n\n.ql-editor table td[rowspan="7"] {\n  height: 175px;\n}\n\n.ql-editor table td[rowspan="8"] {\n  height: 200px;\n}\n\n.ql-editor table td[rowspan="9"] {\n  height: 225px;\n}\n\n.ql-editor table td.ql-cell-selected {\n  background-color: #cce0f8;\n}\n\n.ql-editor table td[merge_id] {\n  display: none;\n}\n\n.quill-better-table-wrapper {\n  overflow-x: auto;\n}\n\n.ql-picker.ql-table {\n  width: auto !important;\n  margin-right: 0;\n}\n\n.ql-picker.ql-table .ql-picker-label svg {\n  display: none;\n}\n\n/* .ql-formats button.ql-table::after, */\n.ql-picker.ql-table .ql-picker-label::before {\n  display: block;\n  font-size: 14px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-label::before {\n  content: "\\f0ce";\n}\n\n.ql-picker.ql-table .ql-picker-label::before {\n  font-family: "Font Awesome 6 Free";\n  font-weight: 900;\n  padding-top: 2px;\n  line-height: 1em;\n}\n\n.ql-picker-item[data-value="insert"]::after {\n  content: "Insert table";\n}\n\n.ql-picker-item[data-value="append-col"]::after {\n  content: "Add column";\n}\n\n.ql-picker-item[data-value="append-col-before"]::after {\n  content: "Add column before";\n}\n\n.ql-picker-item[data-value="append-col-after"]::after {\n  content: "Add column after";\n}\n\n.ql-picker-item[data-value="remove-col"]::after {\n  content: "Remove column";\n}\n\n.ql-picker-item[data-value="append-row"]::after {\n  content: "Add row";\n}\n\n.ql-picker-item[data-value="append-row-above"]::after {\n  content: "Add row above";\n}\n\n.ql-picker-item[data-value="append-row-below"]::after {\n  content: "Add row below";\n}\n\n.ql-picker-item[data-value="remove-row"]::after {\n  content: "Remove row";\n}\n\n.ql-picker-item[data-value="split-cell"]::after {\n  content: "Split cell";\n}\n\n.ql-picker-item[data-value="merge-selection"]::after {\n  content: "Merge selection";\n}\n\n.ql-picker-item[data-value="remove-cell"]::after {\n  content: "Remove cell";\n}\n\n.ql-picker-item[data-value="remove-selection"]::after {\n  content: "Remove selection";\n}\n\n.ql-picker-item[data-value="undo"]::after {\n  content: "Undo";\n}\n\n.ql-picker-item[data-value="redo"]::after {\n  content: "Redo";\n}\n\n.ql-picker-item[data-value="remove-table"]:before {\n  content: "Remove table";\n}\n\n.ql-table:nth-of-type(1),\n.ql-contain {\n  width: 90px;\n  margin-right: 0;\n}\n\n.ql-picker.ql-table:nth-of-type(1) {\n  font-size: 11px;\n  font-weight: normal;\n}\n\n.ql-picker.ql-table .ql-picker-label {\n  padding: 2px 3px;\n  width: 23px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-options {\n  width: 180px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-item {\n  display: block;\n  float: left;\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  padding: 0px;\n  margin: 1px;\n}\n\n.ql-toolbar .ql-picker.ql-table .ql-picker-item {\n  display: none;\n}\n\n.ql-toolbar .ql-picker.ql-table .ql-picker-item.enabled {\n  display: block;\n}\n\n.ql-picker.ql-table:nth-of-type(2) {\n  display: flex;\n  width: 145px;\n}\n\n.ql-picker.ql-table:nth-of-type(2) .ql-picker-label::before {\n  content: "\\f850";\n}\n\n.ql-picker.ql-table:nth-of-type(2) {\n  color: #444;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-item {\n  border: 1px solid #444;\n  color: #444;\n}\n\n.ql-table:nth-of-type(2) .ql-picker-label.ql-active {\n  color: #444 !important;\n}\n\n.ql-toolbar .ql-picker-item.ql-selected:before, .ql-picker.ql-table:nth-of-type(2) .ql-picker-item {\n  color: #444;\n}\n\n.ql-picker-label.ql-active .ql-stroke {\n  stroke: #444 !important;\n}\n\n.ql-picker-item[data-value="remove-table"] {\n  border: none !important;\n  width: 100%;\n}\n\n.ql-picker-item[data-value=newtable_1_1]:before {\n  content: "1x1";\n}\n\n.ql-picker-item[data-value=newtable_1_2]:before {\n  content: "1x2";\n}\n\n.ql-picker-item[data-value=newtable_1_3]:before {\n  content: "1x3";\n}\n\n.ql-picker-item[data-value=newtable_1_4]:before {\n  content: "1x4";\n}\n\n.ql-picker-item[data-value=newtable_1_5]:before {\n  content: "1x5";\n}\n\n.ql-picker-item[data-value=newtable_2_1]:before {\n  content: "2x1";\n}\n\n.ql-picker-item[data-value=newtable_2_2]:before {\n  content: "2x2";\n}\n\n.ql-picker-item[data-value=newtable_2_3]:before {\n  content: "2x3";\n}\n\n.ql-picker-item[data-value=newtable_2_4]:before {\n  content: "2x4";\n}\n\n.ql-picker-item[data-value=newtable_2_5]:before {\n  content: "2x5";\n}\n\n.ql-picker-item[data-value=newtable_3_1]:before {\n  content: "3x1";\n}\n\n.ql-picker-item[data-value=newtable_3_2]:before {\n  content: "3x2";\n}\n\n.ql-picker-item[data-value=newtable_3_3]:before {\n  content: "3x3";\n}\n\n.ql-picker-item[data-value=newtable_3_4]:before {\n  content: "3x4";\n}\n\n.ql-picker-item[data-value=newtable_3_5]:before {\n  content: "3x5";\n}\n\n.ql-picker-item[data-value=newtable_4_1]:before {\n  content: "4x1";\n}\n\n.ql-picker-item[data-value=newtable_4_2]:before {\n  content: "4x2";\n}\n\n.ql-picker-item[data-value=newtable_4_3]:before {\n  content: "4x3";\n}\n\n.ql-picker-item[data-value=newtable_4_4]:before {\n  content: "4x4";\n}\n\n.ql-picker-item[data-value=newtable_4_5]:before {\n  content: "4x5";\n}\n\n.ql-picker-item[data-value=newtable_5_1]:before {\n  content: "5x1";\n}\n\n.ql-picker-item[data-value=newtable_5_2]:before {\n  content: "5x2";\n}\n\n.ql-picker-item[data-value=newtable_5_3]:before {\n  content: "5x3";\n}\n\n.ql-picker-item[data-value=newtable_5_4]:before {\n  content: "5x4";\n}\n\n.ql-picker-item[data-value=newtable_5_5]:before {\n  content: "5x5";\n}\n',"",{version:3,sources:["webpack://./src/css/quill.table.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,yBAAyB;EACzB,mBAAmB;EACnB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,gBAAgB;EAChB,YAAY;EACZ,mBAAmB;EACnB,qBAAqB,EAAE,iDAAiD;AAC1E;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE,aAAa;AACf;;AAEA,wCAAwC;AACxC;EACE,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kCAAkC;EAClC,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;;EAEE,WAAW;EACX,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,cAAc;EACd,WAAW;EACX,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,YAAY;AACd;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,uBAAuB;EACvB,WAAW;AACb;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB",sourcesContent:['.ql-editor table {\n  width: 100%;\n  border-collapse: collapse;\n  table-layout: fixed;\n  overflow:hidden;\n  white-space: nowrap;\n}\n\n.ql-editor table td {\n  border: 1px solid black;\n  padding: 2px 5px;\n  height: 25px;\n  vertical-align: top;\n  white-space: pre-wrap; /* https://github.com/quilljs/quill/issues/1760 */\n}\n\n.ql-editor table td[rowspan="2"] {\n  height: 50px;\n}\n\n.ql-editor table td[rowspan="3"] {\n  height: 75px;\n}\n\n.ql-editor table td[rowspan="4"] {\n  height: 100px;\n}\n\n.ql-editor table td[rowspan="5"] {\n  height: 125px;\n}\n\n.ql-editor table td[rowspan="6"] {\n  height: 150px;\n}\n\n.ql-editor table td[rowspan="7"] {\n  height: 175px;\n}\n\n.ql-editor table td[rowspan="8"] {\n  height: 200px;\n}\n\n.ql-editor table td[rowspan="9"] {\n  height: 225px;\n}\n\n.ql-editor table td.ql-cell-selected {\n  background-color: #cce0f8;\n}\n\n.ql-editor table td[merge_id] {\n  display: none;\n}\n\n.quill-better-table-wrapper {\n  overflow-x: auto;\n}\n\n.ql-picker.ql-table {\n  width: auto !important;\n  margin-right: 0;\n}\n\n.ql-picker.ql-table .ql-picker-label svg {\n  display: none;\n}\n\n/* .ql-formats button.ql-table::after, */\n.ql-picker.ql-table .ql-picker-label::before {\n  display: block;\n  font-size: 14px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-label::before {\n  content: "\\f0ce";\n}\n\n.ql-picker.ql-table .ql-picker-label::before {\n  font-family: "Font Awesome 6 Free";\n  font-weight: 900;\n  padding-top: 2px;\n  line-height: 1em;\n}\n\n.ql-picker-item[data-value="insert"]::after {\n  content: "Insert table";\n}\n\n.ql-picker-item[data-value="append-col"]::after {\n  content: "Add column";\n}\n\n.ql-picker-item[data-value="append-col-before"]::after {\n  content: "Add column before";\n}\n\n.ql-picker-item[data-value="append-col-after"]::after {\n  content: "Add column after";\n}\n\n.ql-picker-item[data-value="remove-col"]::after {\n  content: "Remove column";\n}\n\n.ql-picker-item[data-value="append-row"]::after {\n  content: "Add row";\n}\n\n.ql-picker-item[data-value="append-row-above"]::after {\n  content: "Add row above";\n}\n\n.ql-picker-item[data-value="append-row-below"]::after {\n  content: "Add row below";\n}\n\n.ql-picker-item[data-value="remove-row"]::after {\n  content: "Remove row";\n}\n\n.ql-picker-item[data-value="split-cell"]::after {\n  content: "Split cell";\n}\n\n.ql-picker-item[data-value="merge-selection"]::after {\n  content: "Merge selection";\n}\n\n.ql-picker-item[data-value="remove-cell"]::after {\n  content: "Remove cell";\n}\n\n.ql-picker-item[data-value="remove-selection"]::after {\n  content: "Remove selection";\n}\n\n.ql-picker-item[data-value="undo"]::after {\n  content: "Undo";\n}\n\n.ql-picker-item[data-value="redo"]::after {\n  content: "Redo";\n}\n\n.ql-picker-item[data-value="remove-table"]:before {\n  content: "Remove table";\n}\n\n.ql-table:nth-of-type(1),\n.ql-contain {\n  width: 90px;\n  margin-right: 0;\n}\n\n.ql-picker.ql-table:nth-of-type(1) {\n  font-size: 11px;\n  font-weight: normal;\n}\n\n.ql-picker.ql-table .ql-picker-label {\n  padding: 2px 3px;\n  width: 23px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-options {\n  width: 180px;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-item {\n  display: block;\n  float: left;\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  padding: 0px;\n  margin: 1px;\n}\n\n.ql-toolbar .ql-picker.ql-table .ql-picker-item {\n  display: none;\n}\n\n.ql-toolbar .ql-picker.ql-table .ql-picker-item.enabled {\n  display: block;\n}\n\n.ql-picker.ql-table:nth-of-type(2) {\n  display: flex;\n  width: 145px;\n}\n\n.ql-picker.ql-table:nth-of-type(2) .ql-picker-label::before {\n  content: "\\f850";\n}\n\n.ql-picker.ql-table:nth-of-type(2) {\n  color: #444;\n}\n\n.ql-picker.ql-table:nth-of-type(1) .ql-picker-item {\n  border: 1px solid #444;\n  color: #444;\n}\n\n.ql-table:nth-of-type(2) .ql-picker-label.ql-active {\n  color: #444 !important;\n}\n\n.ql-toolbar .ql-picker-item.ql-selected:before, .ql-picker.ql-table:nth-of-type(2) .ql-picker-item {\n  color: #444;\n}\n\n.ql-picker-label.ql-active .ql-stroke {\n  stroke: #444 !important;\n}\n\n.ql-picker-item[data-value="remove-table"] {\n  border: none !important;\n  width: 100%;\n}\n\n.ql-picker-item[data-value=newtable_1_1]:before {\n  content: "1x1";\n}\n\n.ql-picker-item[data-value=newtable_1_2]:before {\n  content: "1x2";\n}\n\n.ql-picker-item[data-value=newtable_1_3]:before {\n  content: "1x3";\n}\n\n.ql-picker-item[data-value=newtable_1_4]:before {\n  content: "1x4";\n}\n\n.ql-picker-item[data-value=newtable_1_5]:before {\n  content: "1x5";\n}\n\n.ql-picker-item[data-value=newtable_2_1]:before {\n  content: "2x1";\n}\n\n.ql-picker-item[data-value=newtable_2_2]:before {\n  content: "2x2";\n}\n\n.ql-picker-item[data-value=newtable_2_3]:before {\n  content: "2x3";\n}\n\n.ql-picker-item[data-value=newtable_2_4]:before {\n  content: "2x4";\n}\n\n.ql-picker-item[data-value=newtable_2_5]:before {\n  content: "2x5";\n}\n\n.ql-picker-item[data-value=newtable_3_1]:before {\n  content: "3x1";\n}\n\n.ql-picker-item[data-value=newtable_3_2]:before {\n  content: "3x2";\n}\n\n.ql-picker-item[data-value=newtable_3_3]:before {\n  content: "3x3";\n}\n\n.ql-picker-item[data-value=newtable_3_4]:before {\n  content: "3x4";\n}\n\n.ql-picker-item[data-value=newtable_3_5]:before {\n  content: "3x5";\n}\n\n.ql-picker-item[data-value=newtable_4_1]:before {\n  content: "4x1";\n}\n\n.ql-picker-item[data-value=newtable_4_2]:before {\n  content: "4x2";\n}\n\n.ql-picker-item[data-value=newtable_4_3]:before {\n  content: "4x3";\n}\n\n.ql-picker-item[data-value=newtable_4_4]:before {\n  content: "4x4";\n}\n\n.ql-picker-item[data-value=newtable_4_5]:before {\n  content: "4x5";\n}\n\n.ql-picker-item[data-value=newtable_5_1]:before {\n  content: "5x1";\n}\n\n.ql-picker-item[data-value=newtable_5_2]:before {\n  content: "5x2";\n}\n\n.ql-picker-item[data-value=newtable_5_3]:before {\n  content: "5x3";\n}\n\n.ql-picker-item[data-value=newtable_5_4]:before {\n  content: "5x4";\n}\n\n.ql-picker-item[data-value=newtable_5_5]:before {\n  content: "5x5";\n}\n'],sourceRoot:""}]);const l=a},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(a[c]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([i]).join("\n")}return[t].join("\n")}},251:(e,t,n)=>{var r=n(215),o=n(584),i=n(609),a=n(420),l=n(847),c=n(923),s=Date.prototype.getTime;function u(e,t,n){var f=n||{};return!!(f.strict?i(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?f.strict?i(e,t):e==t:function(e,t,n){var i,f;if(typeof e!=typeof t)return!1;if(p(e)||p(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var b=a(e),A=a(t);if(b!==A)return!1;if(b||A)return e.source===t.source&&l(e)===l(t);if(c(e)&&c(t))return s.call(e)===s.call(t);var h=d(e),m=d(t);if(h!==m)return!1;if(h||m){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e!=typeof t)return!1;try{var y=r(e),g=r(t)}catch(e){return!1}if(y.length!==g.length)return!1;for(y.sort(),g.sort(),i=y.length-1;i>=0;i--)if(y[i]!=g[i])return!1;for(i=y.length-1;i>=0;i--)if(!u(e[f=y[i]],t[f],n))return!1;return!0}(e,t,f))}function p(e){return null==e}function d(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=u},289:(e,t,n)=>{"use strict";var r=n(215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,l=Object.defineProperty,c=n(44)(),s=l&&c,u=function(e,t,n,r){var o;(!(t in e)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(s?l(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},p=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var l=0;l<i.length;l+=1)u(e,i[l],t[i[l]],n[i[l]])};p.supportsDescriptors=!!s,e.exports=p},470:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return void 0===r||t.call(e,r)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(o)return o(e,n).value}return e[n]};e.exports=function e(){var t,n,r,o,s,u,p=arguments[0],d=1,f=arguments.length,b=!1;for("boolean"==typeof p&&(b=p,p=arguments[1]||{},d=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});d<f;++d)if(null!=(t=arguments[d]))for(n in t)r=c(p,n),p!==(o=c(t,n))&&(b&&o&&(a(o)||(s=i(o)))?(s?(s=!1,u=r&&i(r)?r:[]):u=r&&a(r)?r:{},l(p,{name:n,newValue:e(b,u,o)})):void 0!==o&&l(p,{name:n,newValue:o}));return p}},529:e=>{var t=-1;function n(e,l,s){if(e==l)return e?[[0,e]]:[];(s<0||e.length<s)&&(s=null);var u=o(e,l),p=e.substring(0,u);u=i(e=e.substring(u),l=l.substring(u));var d=e.substring(e.length-u),f=function(e,a){var l;if(!e)return[[1,a]];if(!a)return[[t,e]];var c=e.length>a.length?e:a,s=e.length>a.length?a:e,u=c.indexOf(s);if(-1!=u)return l=[[1,c.substring(0,u)],[0,s],[1,c.substring(u+s.length)]],e.length>a.length&&(l[0][0]=l[2][0]=t),l;if(1==s.length)return[[t,e],[1,a]];var p=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function a(e,t,n){for(var r,a,l,c,s=e.substring(n,n+Math.floor(e.length/4)),u=-1,p="";-1!=(u=t.indexOf(s,u+1));){var d=o(e.substring(n),t.substring(u)),f=i(e.substring(0,n),t.substring(0,u));p.length<f+d&&(p=t.substring(u-f,u)+t.substring(u,u+d),r=e.substring(0,n-f),a=e.substring(n+d),l=t.substring(0,u-f),c=t.substring(u+d))}return 2*p.length>=e.length?[r,a,l,c,p]:null}var l,c,s,u,p,d=a(n,r,Math.ceil(n.length/4)),f=a(n,r,Math.ceil(n.length/2));if(!d&&!f)return null;l=f?d&&d[4].length>f[4].length?d:f:d;e.length>t.length?(c=l[0],s=l[1],u=l[2],p=l[3]):(u=l[0],p=l[1],c=l[2],s=l[3]);var b=l[4];return[c,s,u,p,b]}(e,a);if(p){var d=p[0],f=p[1],b=p[2],A=p[3],h=p[4],m=n(d,b),y=n(f,A);return m.concat([[0,h]],y)}return function(e,n){for(var o=e.length,i=n.length,a=Math.ceil((o+i)/2),l=a,c=2*a,s=new Array(c),u=new Array(c),p=0;p<c;p++)s[p]=-1,u[p]=-1;s[l+1]=0,u[l+1]=0;for(var d=o-i,f=d%2!=0,b=0,A=0,h=0,m=0,y=0;y<a;y++){for(var g=-y+b;g<=y-A;g+=2){for(var v=l+g,E=(q=g==-y||g!=y&&s[v-1]<s[v+1]?s[v+1]:s[v-1]+1)-g;q<o&&E<i&&e.charAt(q)==n.charAt(E);)q++,E++;if(s[v]=q,q>o)A+=2;else if(E>i)b+=2;else if(f){if((k=l+d-g)>=0&&k<c&&-1!=u[k])if(q>=(C=o-u[k]))return r(e,n,q,E)}}for(var w=-y+h;w<=y-m;w+=2){for(var C,k=l+w,x=(C=w==-y||w!=y&&u[k-1]<u[k+1]?u[k+1]:u[k-1]+1)-w;C<o&&x<i&&e.charAt(o-C-1)==n.charAt(i-x-1);)C++,x++;if(u[k]=C,C>o)m+=2;else if(x>i)h+=2;else if(!f){if((v=l+d-w)>=0&&v<c&&-1!=s[v]){var q;E=l+(q=s[v])-v;if(q>=(C=o-C))return r(e,n,q,E)}}}}return[[t,e],[1,n]]}(e,a)}(e=e.substring(0,e.length-u),l=l.substring(0,l.length-u));return p&&f.unshift([0,p]),d&&f.push([0,d]),a(f),null!=s&&(f=function(e,n){var r=function(e,n){if(0===n)return[0,e];for(var r=0,o=0;o<e.length;o++){var i=e[o];if(i[0]===t||0===i[0]){var a=r+i[1].length;if(n===a)return[o+1,e];if(n<a){e=e.slice();var l=n-r,c=[i[0],i[1].slice(0,l)],s=[i[0],i[1].slice(l)];return e.splice(o,1,c,s),[o+1,e]}r=a}}throw new Error("cursor_pos is out of bounds!")}(e,n),o=r[1],i=r[0],a=o[i],l=o[i+1];if(null==a)return e;if(0!==a[0])return e;if(null!=l&&a[1]+l[1]===l[1]+a[1])return o.splice(i,2,l,a),c(o,i,2);if(null!=l&&0===l[1].indexOf(a[1])){o.splice(i,2,[l[0],a[1]],[0,a[1]]);var s=l[1].slice(a[1].length);return s.length>0&&o.splice(i+2,0,[l[0],s]),c(o,i,3)}return e}(f,s)),f=function(e){for(var n=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},o=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},i=2;i<e.length;i+=1)0===e[i-2][0]&&o(e[i-2][1])&&e[i-1][0]===t&&r(e[i-1][1])&&1===e[i][0]&&r(e[i][1])&&(n=!0,e[i-1][1]=e[i-2][1].slice(-1)+e[i-1][1],e[i][1]=e[i-2][1].slice(-1)+e[i][1],e[i-2][1]=e[i-2][1].slice(0,-1));if(!n)return e;var a=[];for(i=0;i<e.length;i+=1)e[i][1].length>0&&a.push(e[i]);return a}(f)}function r(e,t,r,o){var i=e.substring(0,r),a=t.substring(0,o),l=e.substring(r),c=t.substring(o),s=n(i,a),u=n(l,c);return s.concat(u)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function i(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function a(e){e.push([0,""]);for(var n,r=0,l=0,c=0,s="",u="";r<e.length;)switch(e[r][0]){case 1:c++,u+=e[r][1],r++;break;case t:l++,s+=e[r][1],r++;break;case 0:l+c>1?(0!==l&&0!==c&&(0!==(n=o(u,s))&&(r-l-c>0&&0==e[r-l-c-1][0]?e[r-l-c-1][1]+=u.substring(0,n):(e.splice(0,0,[0,u.substring(0,n)]),r++),u=u.substring(n),s=s.substring(n)),0!==(n=i(u,s))&&(e[r][1]=u.substring(u.length-n)+e[r][1],u=u.substring(0,u.length-n),s=s.substring(0,s.length-n))),0===l?e.splice(r-c,l+c,[1,u]):0===c?e.splice(r-l,l+c,[t,s]):e.splice(r-l-c,l+c,[t,s],[1,u]),r=r-l-c+(l?1:0)+(c?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,c=0,l=0,s="",u=""}""===e[e.length-1][1]&&e.pop();var p=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),p=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),p=!0)),r++;p&&a(e)}var l=n;function c(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var o=e[r],i=e[r+1];o[0]===i[1]&&e.splice(r,2,[o[0],o[1]+i[1]])}return e}l.INSERT=1,l.DELETE=t,l.EQUAL=0,e.exports=l},648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(t+i);for(var a,l=n.call(arguments,1),c=function(){if(this instanceof a){var t=i.apply(this,l.concat(n.call(arguments)));return Object(t)===t?t:this}return i.apply(e,l.concat(n.call(arguments)))},s=Math.max(0,i.length-l.length),u=[],p=0;p<s;p++)u.push("$"+p);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(c),i.prototype){var d=function(){};d.prototype=i.prototype,a.prototype=new d,d.prototype=null}return a}},612:(e,t,n)=>{"use strict";var r=n(648);e.exports=Function.prototype.bind||r},972:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(e){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof r&&""!==function(){}.bind().name},e.exports=t},210:(e,t,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,l=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var s=function(){throw new a},u=c?function(){try{return s}catch(e){try{return c(arguments,"callee").get}catch(e){return s}}}():s,p=n(405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},b="undefined"==typeof Uint8Array?r:d(Uint8Array),A={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":b,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},h=function e(t){var n;if("%AsyncFunction%"===t)n=l("async function () {}");else if("%GeneratorFunction%"===t)n=l("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=l("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=d(o.prototype))}return A[t]=n,n},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(612),g=n(642),v=y.call(Function.call,Array.prototype.concat),E=y.call(Function.apply,Array.prototype.splice),w=y.call(Function.call,String.prototype.replace),C=y.call(Function.call,String.prototype.slice),k=y.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,S=function(e){var t=C(e,0,1),n=C(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return w(e,x,(function(e,t,n,o){r[r.length]=n?w(o,q,"$1"):t||e})),r},_=function(e,t){var n,r=e;if(g(m,r)&&(r="%"+(n=m[r])[0]+"%"),g(A,r)){var i=A[r];if(i===f&&(i=h(r)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/g,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=S(e),r=n.length>0?n[0]:"",i=_("%"+r+"%",t),l=i.name,s=i.value,u=!1,p=i.alias;p&&(r=p[0],E(n,v([0,1],p)));for(var d=1,f=!0;d<n.length;d+=1){var b=n[d],h=C(b,0,1),m=C(b,-1);if(('"'===h||"'"===h||"`"===h||'"'===m||"'"===m||"`"===m)&&h!==m)throw new o("property names with quotes must have matching quotes");if("constructor"!==b&&f||(u=!0),g(A,l="%"+(r+="."+b)+"%"))s=A[l];else if(null!=s){if(!(b in s)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&d+1>=n.length){var y=c(s,b);s=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[b]}else f=g(s,b),s=s[b];f&&!u&&(A[l]=s)}}return s}},44:(e,t,n)=>{"use strict";var r=n(210)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},405:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(419);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},410:(e,t,n)=>{"use strict";var r=n(419);e.exports=function(){return r()&&!!Symbol.toStringTag}},642:(e,t,n)=>{"use strict";var r=n(612);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},584:(e,t,n)=>{"use strict";var r=n(410)(),o=n(924)("Object.prototype.toString"),i=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},l=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=l?i:a},923:(e,t,n)=>{"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},420:(e,t,n)=>{"use strict";var r,o,i,a,l=n(924),c=n(410)();if(c){r=l("Object.prototype.hasOwnProperty"),o=l("RegExp.prototype.exec"),i={};var s=function(){throw i};a={toString:s,valueOf:s},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=s)}var u=l("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!=typeof e)return!1;var t=p(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u(e)}},244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},609:(e,t,n)=>{"use strict";var r=n(289),o=n(559),i=n(244),a=n(624),l=n(281),c=o(a(),Object);r(c,{getPolyfill:a,implementation:i,shim:l}),e.exports=c},624:(e,t,n)=>{"use strict";var r=n(244);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},281:(e,t,n)=>{"use strict";var r=n(624),o=n(289);e.exports=function(){var e=r();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},987:(e,t,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(414),l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},"toString"),s=l.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),l=t&&"[object String]"===i.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var b=s&&n;if(l&&e.length>0&&!o.call(e,0))for(var A=0;A<e.length;++A)d.push(String(A));if(r&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var m in e)b&&"prototype"===m||!o.call(e,m)||d.push(String(m));if(c)for(var y=function(e){if("undefined"==typeof window||!f)return p(e);try{return p(e)}catch(e){return!1}}(e),g=0;g<u.length;++g)y&&"constructor"===u[g]||!o.call(e,u[g])||d.push(u[g]);return d}}e.exports=r},215:(e,t,n)=>{"use strict";var r=Array.prototype.slice,o=n(414),i=Object.keys,a=i?function(e){return i(e)}:n(987),l=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?l(r.call(e)):l(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},175:(e,t,n)=>{var r=n(529),o=n(251),i=n(470),a=n(910),l=String.fromCharCode(0),c=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};c.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},c.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},c.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},c.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},c.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},c.prototype.filter=function(e){return this.ops.filter(e)},c.prototype.forEach=function(e){this.ops.forEach(e)},c.prototype.map=function(e){return this.ops.map(e)},c.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},c.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},c.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},c.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},c.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],r=a.iterator(this.ops),o=0;o<t&&r.hasNext();){var i;o<e?i=r.next(e-o):(i=r.next(t-o),n.push(i)),o+=a.length(i)}return new c(n)},c.prototype.compose=function(e){var t=a.iterator(this.ops),n=a.iterator(e.ops),r=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var l=i.retain;"insert"===t.peekType()&&t.peekLength()<=l;)l-=t.peekLength(),r.push(t.next());i.retain-l>0&&n.next(i.retain-l)}for(var s=new c(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())s.push(n.next());else if("delete"===t.peekType())s.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),p=t.next(u),d=n.next(u);if("number"==typeof d.retain){var f={};"number"==typeof p.retain?f.retain=u:f.insert=p.insert;var b=a.attributes.compose(p.attributes,d.attributes,"number"==typeof p.retain);if(b&&(f.attributes=b),s.push(f),!n.hasNext()&&o(s.ops[s.ops.length-1],f)){var A=new c(t.rest());return s.concat(A).chop()}}else"number"==typeof d.delete&&"number"==typeof p.retain&&s.push(d)}return s.chop()},c.prototype.concat=function(e){var t=new c(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},c.prototype.diff=function(e,t){if(this.ops===e.ops)return new c;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new c,s=r(n[0],n[1],t),u=a.iterator(this.ops),p=a.iterator(e.ops);return s.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(p.peekLength(),t),i.push(p.next(n));break;case r.DELETE:n=Math.min(t,u.peekLength()),u.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(u.peekLength(),p.peekLength(),t);var l=u.next(n),c=p.next(n);o(l.insert,c.insert)?i.retain(n,a.attributes.diff(l.attributes,c.attributes)):i.push(c).delete(n)}t-=n}})),i.chop()},c.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),r=new c,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),l=a.length(i)-n.peekLength(),s="string"==typeof i.insert?i.insert.indexOf(t,l)-l:-1;if(s<0)r.push(n.next());else if(s>0)r.push(n.next(s));else{if(!1===e(r,n.next(1).attributes||{},o))return;o+=1,r=new c}}r.length()>0&&e(r,{},o)},c.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),r=a.iterator(e.ops),o=new c;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),l=n.next(i),s=r.next(i);if(l.delete)continue;s.delete?o.push(s):o.retain(i,a.attributes.transform(l.attributes,s.attributes,t))}else o.retain(a.length(n.next()));return o.chop()},c.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=o),r+=o):e-=Math.min(o,e-r)}return e},e.exports=c},910:(e,t,n)=>{var r=n(251),o=n(470),i={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=o(!0,{},t);for(var i in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,o){return r(e[o],t[o])||(n[o]=void 0===t[o]?null:t[o]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=i.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=i},697:(e,t,n)=>{"use strict";var r=n(972).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},847:(e,t,n)=>{"use strict";var r=n(289),o=n(559),i=n(697),a=n(721),l=n(753),c=o(a());r(c,{getPolyfill:a,implementation:i,shim:l}),e.exports=c},721:(e,t,n)=>{"use strict";var r=n(697),o=n(289).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},753:(e,t,n)=>{"use strict";var r=n(289).supportsDescriptors,o=n(721),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,l=TypeError,c=Object.getPrototypeOf,s=/a/;e.exports=function(){if(!r||!c)throw new l("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(s),n=i(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],l=0;l<e.length;l++){var c=e[l],s=r.base?c[0]+r.base:c[0],u=i[s]||0,p="".concat(s," ").concat(u);i[s]=u+1;var d=n(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var b=o(f,r);r.byIndex=l,t.splice(l,0,{identifier:p,updater:b,references:1})}a.push(p)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var l=n(i[a]);t[l].references--}for(var c=r(e,o),s=0;s<i.length;s++){var u=n(i[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},665:t=>{"use strict";t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var o={};return(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}function n(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}r.r(o),r.d(o,{default:()=>Ae});var c=r(665),s=r.n(c),u=r(175),p=r.n(u);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=b(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},A.apply(this,arguments)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var E=s().import("blots/container"),w=s().import("blots/block"),C=s().import("blots/block/embed"),k=s().import("parchment"),x=function(e){m(n,e);var t=v(n);function n(){return i(this,n),t.apply(this,arguments)}return l(n,[{key:"formats",value:function(e){return e?e.tagName:this.domNode.tagName}}],[{key:"create",value:function(e){return A(f(n),"create",this).call(this,e)}}]),n}(E);x.blotName="contain",x.tagName="contain",x.scope=k.Scope.BLOCK_BLOT,x.defaultChild="block",x.allowedChildren=[w,C,E];const q=x;function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var _=s().import("blots/container"),N=s().import("blots/block"),O=s().import("blots/block/embed"),B=s().import("parchment"),j=function(e){m(n,e);var t=S(n);function n(){return i(this,n),t.apply(this,arguments)}return l(n,[{key:"format",value:function(){}},{key:"formats",value:function(){return d({},this.statics.blotName,[this.domNode.getAttribute("table_id"),this.domNode.getAttribute("row_id"),this.domNode.getAttribute("cell_id"),this.domNode.getAttribute("merge_id"),this.domNode.getAttribute("colspan"),this.domNode.getAttribute("rowspan")].join("|"))}},{key:"optimize",value:function(e){A(f(n.prototype),"optimize",this).call(this,e);var t=this.parent;if(null!=t){if("td"===t.statics.blotName)return this.moveChildren(t,this),void this.remove();if("tr"!==t.statics.blotName){var r=B.create("block");this.parent.insertBefore(r,this.next);var o=B.create("table",this.domNode.getAttribute("table_id")),i=B.create("tr",this.domNode.getAttribute("row_id"));o.appendChild(i),i.appendChild(this),o.replace(r)}}var a=this.next;null!=a&&a.prev===this&&a.statics.blotName===this.statics.blotName&&a.domNode.tagName===this.domNode.tagName&&a.domNode.getAttribute("cell_id")===this.domNode.getAttribute("cell_id")&&(a.moveChildren(this),a.remove())}},{key:"insertBefore",value:function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t}))){var r=B.create(this.statics.defaultChild);r.appendChild(e),e=r}A(f(n.prototype),"insertBefore",this).call(this,e,t)}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var t=B.create(this.statics.defaultChild);e.moveChildren(t),this.appendChild(t)}null!=e.parent&&A(f(n.prototype),"replace",this).call(this,e)}},{key:"moveChildren",value:function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))}}],[{key:"create",value:function(e){var t=A(f(n),"create",this).call(this,"td"),r=e.split("|");return t.setAttribute("table_id",r[0]),t.setAttribute("row_id",r[1]),t.setAttribute("cell_id",r[2]),r[3]&&t.setAttribute("merge_id",r[3]),r[4]&&t.setAttribute("colspan",r[4]),r[5]&&t.setAttribute("rowspan",r[5]),t}}]),n}(q);j.blotName="td",j.tagName="td",j.className="td-q",j.scope=B.Scope.BLOCK_BLOT,j.allowedChildren=[N,O,_];const P=j;function T(n){return function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var I=function(){function e(){i(this,e)}return l(e,null,[{key:"register",value:function(t,n){e.changes.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:t},n))}},{key:"add",value:function(t){if(e.changes.length){var n=t.history.ignoreChange;t.history.ignoreChange=!0,t.history.lastRecorded=0,setTimeout((function(){t.history.ignoreChange=n;var r=X.random_id();t.history.tableStack[r]=e.changes,t.history.stack.undo.push({type:"tableHistory",id:r}),e.changes=[]}),0)}}},{key:"undo",value:function(t,n){var r=t.history.ignoreChange;t.history.ignoreChange=!0;var o=t.history.tableStack[n];void 0!==o&&o.reverse().forEach((function(n){var r=t.getContents();switch(n.type){case"insert":e.remove(n);break;case"remove":e.insert(n);break;case"split":e.merge(n,!0),X.emitTextChange(t,r);break;case"merge":e.split(n,!0);break;case"propertyChange":e.propertyChange(n,!0)}})),setTimeout((function(){var e=t.history.stack.undo.pop();t.history.stack.redo.push(e),t.history.ignoreChange=r}),0)}},{key:"redo",value:function(t,n){var r=t.history.ignoreChange;t.history.ignoreChange=!0;var o=t.history.tableStack[n];void 0!==o&&o.forEach((function(t){switch(t.type){case"insert":e.insert(t);break;case"remove":e.remove(t);break;case"split":e.split(t,!1);break;case"merge":e.merge(t,!1);break;case"propertyChange":e.propertyChange(t,!1)}})),setTimeout((function(){var e=t.history.stack.redo.pop();t.history.stack.undo.push(e),t.history.ignoreChange=r}),0)}},{key:"insert",value:function(e){var t=e.parentNode||e.nextNode.parentNode;if(t){e.nextNode?t.insertBefore(e.node,e.nextNode):t.appendChild(e.node);var n="TABLE"===e.node.nodeName?e.node:t.closest("table");return n.style.setProperty("overflow","visible"===(window.getComputedStyle(n).overflow||"visible")?"hidden":"visible"),setTimeout((function(){n.style.removeProperty("overflow")}),0),!0}return!1}},{key:"remove",value:function(e){return e.node.remove(),!0}},{key:"split",value:function(e,t){var n=e.node;return n.removeAttribute("colspan"),n.removeAttribute("rowspan"),e.mergedNodes.forEach((function(e){e.node.removeAttribute("merge_id"),e.node.innerHTML=e[t?"oldContent":"newContent"]})),n.innerHTML=e[t?"oldContent":"newContent"],!0}},{key:"merge",value:function(e,t){var n=e.node,r=n.getAttribute("cell_id");return n.setAttribute("colspan",e.colSpan),n.setAttribute("rowspan",e.rowSpan),e.mergedNodes.forEach((function(e){e.node.innerHTML=e[t?"oldContent":"newContent"],e.node.setAttribute("merge_id",r)})),n.innerHTML=e[t?"oldContent":"newContent"],!0}},{key:"propertyChange",value:function(e,t){var n=e.node,r=e.property,o=e.oldValue,i=e.newValue,a=t?o:i;null!==a?n.setAttribute(r,a):n.removeAttribute(r)}}]),e}();d(I,"changes",[]);const M=I;var L=function(){function e(){i(this,e)}return l(e,null,[{key:"get",value:function(e){return e.container.previousSibling&&e.container.previousSibling.classList.contains("ql-toolbar")?e.container.previousSibling:null}},{key:"toggle",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.get(t);o&&("string"==typeof n&&(n=[n]),n.forEach((function(e){var t='.ql-table .ql-picker-item[data-value="'.concat(e,'"], .ql-table[value="').concat(e,'"]');e.startsWith("*")&&e.endsWith("*")?t='.ql-table .ql-picker-item[data-value*="'.concat(e.substring(1,e.length-1),'"], .ql-table[value*="').concat(e.substring(1,e.length-1),'"]'):e.startsWith("*")?t='.ql-table .ql-picker-item[data-value$="'.concat(e.substring(1),'"], .ql-table[value$="').concat(e.substring(1),'"]'):e.endsWith("*")&&(t='.ql-table .ql-picker-item[data-value^="'.concat(e.substring(0,e.length-1),'"], .ql-table[value^="').concat(e.substring(0,e.length-1),'"]')),o.querySelectorAll(t).forEach((function(e){e.classList[r?"add":"remove"]("enabled")}))})))}},{key:"enable",value:function(t,n){e.toggle(t,n,!0)}},{key:"disable",value:function(t,n){e.toggle(t,n,!1)}},{key:"disableAll",value:function(t){var n=e.get(t);if(!n)return!1;n.querySelectorAll(".ql-table .ql-picker-item.enabled, .ql-table.enabled[value]").forEach((function(e){return e.classList.remove("enabled")}))}},{key:"isEnabled",value:function(t,n){var r=e.get(t);if(!r)return!1;var o=r.querySelector('.ql-table .ql-picker-item[data-value="'.concat(n,'"], .ql-table[value="').concat(n,'"]'));return o&&o.classList.contains("enabled")}}]),e}(),F=function(){function e(){i(this,e)}return l(e,null,[{key:"mouseDown",value:function(t,n,r){if(void 0!==r&&(e.cellSelectionOnClick=r),1===n.which&&(e.resetSelection(),!e.cellSelectionOnClick&&n.ctrlKey||e.cellSelectionOnClick)){e.isMouseDown=!0,e.previousSelection=[e.selectionStartElement,e.selectionEndElement],e.selectionStartElement=e.selectionEndElement=null,e.resetSelection();var o=e.getTargetCell(n);if(!o)return void(e.focusedCell=null);if(!e.preventMouseDown&&o===e.clickedCellTimeout||e.focusedCell===o)return void(e.focusedCell=o);n.preventDefault(),e.focusedCell=null,clearTimeout(e.dblClickTimeout),e.dblClickTimeout=setTimeout((function(){e.preventMouseDown=!0,e.clickedCellTimeout=null}),500),e.preventMouseDown=!1,e.selectionStartElement=e.clickedCellTimeout=o,e.selectionStartElement&&e.selectionStartElement.classList.add("ql-cell-selected")}}},{key:"mouseMove",value:function(t,n){if(e.isMouseDown&&e.selectionStartElement){var r=e.selectionEndElement;if(e.selectionEndElement=e.getTargetCell(n),e.selectionEndElement&&e.selectionEndElement!==r&&e.selectionStartElement.closest("table")===e.selectionEndElement.closest("table")){e.resetSelection();for(var o=e.getSelectionCoords(),i=o.minY;i<=o.maxY;i++)for(var a=o.minX;a<=o.maxX;a++){var l=e.getCellAt(a,i);l&&l.classList.add("ql-cell-selected")}}}}},{key:"mouseUp",value:function(t,n){e.isMouseDown=!1,e.selectionEndElement||(e.selectionEndElement=e.selectionStartElement),e.previousSelection[0]!==e.selectionStartElement&&e.previousSelection[1]!==e.selectionEndElement&&e.selectionChange(t)}},{key:"selectionChange",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!1;if(e.selectionStartElement||e.selectionEndElement)i=!0,L.enable(t,["split-cell","merge-selection","remove-selection"]);else{var a,l;if(L.disable(t,["split-cell","merge-selection","remove-selection"]),null===r&&null!==o){var c=t.getLeaf(o.index),s=n(c,1),u=s[0],p=t.getLeaf(o.index+o.length),d=n(p,1),f=d[0];a=u.parent.domNode,l=f.parent.domNode}else{var b=window.getSelection();a=b.anchorNode?b.anchorNode.nodeType===Node.TEXT_NODE?b.anchorNode.parentElement:b.anchorNode:null,l=b.focusNode?b.focusNode.nodeType===Node.TEXT_NODE?b.focusNode.parentElement:b.focusNode:null}if(a&&l){var A=a.closest("table");A&&A.closest(".ql-editor")&&(i=l===a||(A=l.closest("table"))&&A.closest(".ql-editor"))}}!i&&t.table.isInTable&&(t.table.isInTable=!1,L.disableAll(t),L.enable(t,["newtable_*","insert","undo","redo"])),i&&!t.table.isInTable&&(t.table.isInTable=!0,L.enable(t,["append-row*","append-col*","remove-cell","remove-row","remove-col","remove-table"]))}},{key:"getSelectionCoords",value:function(){if(e.selectionStartElement&&e.selectionEndElement){var t=[[Array.prototype.indexOf.call(e.selectionStartElement.parentElement.children,e.selectionStartElement),Array.prototype.indexOf.call(e.selectionStartElement.parentElement.parentElement.children,e.selectionStartElement.parentElement)],[Array.prototype.indexOf.call(e.selectionEndElement.parentElement.children,e.selectionEndElement),Array.prototype.indexOf.call(e.selectionEndElement.parentElement.parentElement.children,e.selectionEndElement.parentElement)]];return{coords:t,minX:Math.min(t[0][0],t[1][0]),maxX:Math.max(t[0][0],t[1][0]),minY:Math.min(t[0][1],t[1][1]),maxY:Math.max(t[0][1],t[1][1])}}return null}},{key:"getCellAt",value:function(t,n){var r=e.selectionStartElement.closest("table");return r&&void 0!==r.children[n]&&void 0!==r.children[n].children[t]?r.children[n].children[t]:null}},{key:"getTargetCell",value:function(e){var t=e.target,n=null;do{if(["td","th"].includes(t.tagName.toLowerCase())){n=t;break}t=t.parentNode}while(t&&t!==e.currentTarget);return n}},{key:"resetSelection",value:function(e){document.querySelectorAll(".ql-editor td.ql-cell-selected").forEach((function(e){e.classList.remove("ql-cell-selected")}))}}]),e}();d(F,"focusedCell",null),d(F,"isMouseDown",!1),d(F,"selectionStartElement",null),d(F,"selectionEndElement",null),d(F,"previousSelection",[]),d(F,"dblClickTimeout",null),d(F,"clickedCellTimeout",null),d(F,"preventMouseDown",!0),d(F,"cellSelectionOnClick",!0);const D=F;var U=s().import("parchment"),W=s().import("blots/container"),Y=s().import("blots/scroll"),X=function(){function e(){i(this,e)}return l(e,null,[{key:"random_id",value:function(){return Math.random().toString(36).slice(2)}},{key:"getBlot",value:function(e){var t=null,n=e.getSelection();return n&&(t=e.getLeaf(n.index)[0]),t}},{key:"find_td",value:function(t){var n=e.getBlot(t);if(n)for(;null!=n&&"td"!==n.statics.blotName;)n=n.parent;return n}},{key:"getQuill",value:function(e){var t=null;if(e instanceof Node?!e instanceof Element&&(e=e.parentElement):"object"===y(e)&&void 0!==e.domNode&&(e=e.domNode),e instanceof Element){var n=e.closest(".ql-container");n&&(t=s().find(n))}return t}},{key:"insertTable",value:function(t,n,r){for(var o=e.random_id(),i=U.create("table",o),a=0;a<r;a++){var l=e.random_id(),c=U.create("tr",l);i.appendChild(c);for(var s=0;s<n;s++){var u=[o,l,e.random_id()].join("|"),p=U.create("td",u);c.appendChild(p);var d=U.create("block");p.appendChild(d);var f=U.create("break");d.appendChild(f)}}for(var b=e.getBlot(t),A=null;null!=b&&!(b instanceof W||b instanceof Y);)A=b,b=b.parent;b.insertBefore(i,A),M.register("insert",{node:i.domNode,nextNode:A.domNode}),M.add(t)}},{key:"removeTable",value:function(t){var n,r=D.getSelectionCoords();if(D.resetSelection(t.container),r){var o=D.selectionStartElement.closest("table");n=U.find(o)}else{var i=e.find_td(t);i&&(n=i.parent.parent)}n&&(M.register("remove",{node:n.domNode,nextNode:n.next?n.next.domNode:null,parentNode:n.parent.domNode}),M.add(t),n.remove())}},{key:"addCol",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"after",r=D.getSelectionCoords(),o=e.find_td(t);if(r){var i=D.getCellAt(r.maxX,r.minY)||D.getCellAt(r.maxX,r.maxY);i&&(o=U.find(i))}if(o){if("before"!==n&&o.domNode.getAttribute("colspan")){var a=o.parent.domNode.children[Array.prototype.indexOf.call(o.parent.domNode.children,o.domNode)+Number.parseInt(o.domNode.getAttribute("colspan"))-1];a&&(o=U.find(a))}var l=Array.prototype.indexOf.call(o.parent.domNode.children,o.domNode)+("before"===n?0:1),c=l===o.parent.domNode.children.length,s=o.parent.parent,u=s.domNode.getAttribute("table_id"),p=[];s.children.forEach((function(t){var n=t.domNode.getAttribute("row_id"),r=e.random_id(),o=U.create("td",[u,n,r].join("|"));if(!c||l===t.domNode.children.length)if(void 0===t.domNode.children[l])t.appendChild(o),M.register("insert",{node:o.domNode,parentNode:t.domNode});else{var i=U.find(t.domNode.children[l]);if(i){if(i.domNode.previousSibling){var a=i.domNode.previousSibling.getAttribute("merge_id");if(Number.parseInt(i.domNode.previousSibling.getAttribute("colspan")||1)>1&&(a=i.domNode.previousSibling.getAttribute("cell_id")),a&&(o.domNode.setAttribute("merge_id",a),-1===p.indexOf(a))){p.push(a);var d=s.domNode.querySelector('td[cell_id="'+a+'"]');if(d){var f=Number.parseInt(d.getAttribute("colspan"));d.setAttribute("colspan",f+1),M.register("propertyChange",{node:d,property:"colspan",oldValue:f,newValue:f+1})}}}t.insertBefore(o,i),M.register("insert",{node:o.domNode,nextNode:i.domNode})}}})),M.add(t)}}},{key:"addRow",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"after",r=D.getSelectionCoords(),o=e.find_td(t);if(r){var i=D.getCellAt(r.minX,r.maxY)||D.getCellAt(r.maxX,r.maxY);i&&(o=U.find(i))}if(o){var a=o.parent,l=a.domNode.children.length,c=a.parent,s=a.clone(),u=Array.prototype.indexOf.call(c.domNode.children,a.domNode)+("before"===n?0:1),p=!0,d=Number.parseInt(o.domNode.getAttribute("rowspan")||1);d>1&&(p=!1,"before"!==n&&(u+=d-1));var f=c.domNode.getAttribute("table_id"),b=e.random_id();s.domNode.setAttribute("row_id",b);for(var A=[],h=[],m=0;m<l;m++){var y=a.domNode.children[m],g=e.random_id(),v=U.create("td",[f,b,g].join("|"));if(y&&p){var E=void 0,w=void 0;if(y.getAttribute("rowspan")?(E=y.getAttribute("cell_id"),w=y,"before"===n&&-1===h.indexOf(E)&&h.push(E)):y.getAttribute("merge_id")&&(E=y.getAttribute("merge_id"),w=c.domNode.querySelector('td[cell_id="'+E+'"]')),E&&w&&-1===h.indexOf(E)&&w.getAttribute("rowspan")){var C=Number.parseInt(w.getAttribute("rowspan"));C>1&&(-1===A.indexOf(E)&&(A.push(E),w.setAttribute("rowspan",C+1),M.register("propertyChange",{node:w,property:"rowspan",oldValue:C,newValue:C+1})),v.domNode.setAttribute("merge_id",E))}}s.appendChild(v);var k=U.create("block");v.appendChild(k);var x=U.create("break");k.appendChild(x)}if(void 0===c.domNode.children[u])c.appendChild(s),M.register("insert",{node:s.domNode,parentNode:c.domNode});else{var q=U.find(c.domNode.children[u]);q&&(c.insertBefore(s,q),M.register("insert",{node:s.domNode,nextNode:q.domNode}))}M.add(t)}}},{key:"removeCol",value:function(t){var n,r,o,i=D.getSelectionCoords();if(D.resetSelection(t.container),i){var a=D.selectionStartElement.closest("table");n=U.find(a),r=i.minX,o=i.maxX-i.minX+1}else{o=1;var l=e.find_td(t);l&&(n=l.parent.parent,r=Array.prototype.indexOf.call(l.parent.domNode.children,l.domNode))}if(n&&"number"==typeof r&&"number"==typeof o){for(var c=0;c<o;c++)n.children.forEach((function(t){var o=t.domNode.children[r];if(o){var i=o.getAttribute("merge_id");if(i){var a=n.domNode.querySelector('td[cell_id="'.concat(i,'"]'));if(a){var l=Number.parseInt(a.getAttribute("colspan"));a.setAttribute("colspan",l-1),M.register("propertyChange",{node:a,property:"colspan",oldValue:l,newValue:l-1})}}o.getAttribute("colspan")&&e._split(o),M.register("remove",{node:o,nextNode:o.nextSibling,parentNode:t.domNode});var c=U.find(o);c&&c.remove()}}));D.selectionStartElement=D.selectionEndElement=null,M.add(t)}}},{key:"removeRow",value:function(t){var n=D.getSelectionCoords();D.resetSelection(t.container);var r=function(t){var n=[];T(t.children).forEach((function(r){var o=r.getAttribute("merge_id");if(o&&-1===n.indexOf(o)){var i=t.parentNode.querySelector('td[cell_id="'.concat(o,'"]'));if(n.push(o),i){var a=Number.parseInt(i.getAttribute("rowspan"));i.setAttribute("rowspan",a-1),M.register("propertyChange",{node:i,property:"rowspan",oldValue:a,newValue:a-1})}}r.getAttribute("rowspan")&&e._split(r)}))};if(n)for(var o=D.selectionStartElement.closest("table"),i=n.minY,a=n.maxY-n.minY+1,l=0;l<a;l++){var c=o.children[i];if(c){r(c),M.register("remove",{node:c,nextNode:c.nextSibling,parentNode:o});var s=U.find(c);s&&s.remove()}}else{var u=e.find_td(t);if(u){var p=u.parent;r(p.domNode),M.register("remove",{node:p.domNode,nextNode:p.next?p.next.domNode:null,parentNode:p.parent.domNode});var d=U.find(p);d&&d.remove()}}D.selectionStartElement=D.selectionEndElement=null,M.add(t)}},{key:"splitCell",value:function(t){var n=D.getSelectionCoords();D.resetSelection(t.container);var r=e.find_td(t);if(n&&n.maxX-n.minX==0&&n.maxY-n.minY==0){var o=D.getCellAt(n.minX,n.minY);r=U.find(o)}var i=t.getContents();r&&e._split(r.domNode)&&(D.selectionStartElement=D.selectionEndElement=null,e.emitTextChange(t,i),M.add(t))}},{key:"mergeSelection",value:function(e){var t=D.getSelectionCoords();if(D.resetSelection(e.container),t){var n=D.selectionStartElement.closest("table"),r=t.maxX-t.minX+1,o=t.maxY-t.minY+1;if(r>1||o>1){for(var i,a=null,l=null,c=[],s=[],u=t.minY;u<=t.maxY;u++)for(var p=t.minX;p<=t.maxX;p++){var d=n.children[u].children[p];if(d){if(""!==d.textContent&&s.push(d.innerHTML),a){var f=d.innerHTML;c.push({node:d,oldContent:f,newContent:"<p><br></p>"})}else i=d.getAttribute("cell_id"),l=(a=d).innerHTML;if(d.getAttribute("colspan")||d.getAttribute("rowspan"))return alert("Cannot merge already merged cell"),!1}}a&&c.length&&(c.forEach((function(e){e.node.setAttribute("merge_id",i),e.node.innerHTML=e.newContent})),a.setAttribute("colspan",r),a.setAttribute("rowspan",o),a.innerHTML=s.join("")),D.selectionStartElement=D.selectionEndElement=null,M.register("merge",{node:a,mergedNodes:c,colSpan:r,rowSpan:o,oldContent:l,newContent:a.innerHTML}),M.add(e)}}}},{key:"removeCell",value:function(t){var n=D.getSelectionCoords();D.resetSelection(t.container);var r=e.find_td(t);if(n&&n.maxX-n.minX==0&&n.maxY-n.minY==0){var o=D.getCellAt(n.minX,n.minY);r=U.find(o)}r&&e._removeCell(r.domNode)&&(D.selectionStartElement=D.selectionEndElement=null,M.add(t))}},{key:"removeSelection",value:function(t){var n=D.getSelectionCoords();if(D.resetSelection(t.container),n){for(var r=D.selectionStartElement.closest("table"),o=[],i=n.minY;i<=n.maxY;i++)for(var a=n.minX;a<=n.maxX;a++){var l=r.children[i].children[a];if(l){var c=l.getAttribute("merge_id");if(c){var s=r.querySelector('td[cell_id="'.concat(c,'"]'));s&&e._split(s)}(l.getAttribute("rowspan")||l.getAttribute("colspan"))&&e._split(l);var u=l,p=l.nextSibling,d=l.parentNode;"TR"===d.nodeName&&d.childNodes.length<=1&&(p=(u=d).nextSibling,d=u.parentNode),o.push(u),M.register("remove",{node:u,nextNode:p,parentNode:d})}}o.forEach((function(e){var t=U.find(e);t&&t.remove()})),D.selectionStartElement=D.selectionEndElement=null,M.add(t)}}},{key:"_removeCell",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.getAttribute("cell_id");if("TD"===t.nodeName){if(n){if(t.getAttribute("merge_id")){if(!(t=t.closest("table").querySelector('td[cell_id="'+t.getAttribute("merge_id")+'"]')))return!1;r=t.getAttribute("cell_id")}(t.getAttribute("colspan")||t.getAttribute("rowspan"))&&t.parentNode.parentNode.querySelectorAll('td[merge_id="'.concat(r,'"')).forEach((function(t){e._removeCell(t,!1)}))}var o=t,i=t.nextSibling,a=t.parentNode;"TR"===a.nodeName&&a.childNodes.length<=1&&(i=(o=a).nextSibling,"TABLE"===(a=o.parentNode).nodeName&&a.childNodes.length<=1&&(i=(o=a).nextSibling,a=o.parentNode));var l=U.find(o);return l&&l.remove(),M.register("remove",{node:o,nextNode:i,parentNode:a}),!0}return!1}},{key:"_split",value:function(e){var t=e.getAttribute("cell_id"),n=[];e.parentNode.parentNode.querySelectorAll('td[merge_id="'.concat(t,'"')).forEach((function(e){n.push({node:e,oldContent:e.innerHTML,newContent:e.innerHTML}),e.removeAttribute("merge_id")}));var r=Number.parseInt(e.getAttribute("colspan")||1),o=Number.parseInt(e.getAttribute("rowspan")||1);return(r>1||o>1)&&(e.removeAttribute("colspan"),e.removeAttribute("rowspan"),M.register("split",{node:e,mergedNodes:n,colSpan:r,rowSpan:o,oldContent:e.innerHTML,newContent:e.innerHTML}),!0)}},{key:"emitTextChange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",r=e.getContents();e.emitter.emit("text-change",t.diff(r),t,n)}},{key:"table_handler",value:function(t,n){if((D.selectionStartElement&&!n.container.contains(D.selectionStartElement)||D.selectionEndElement&&!n.container.contains(D.selectionEndElement))&&(D.selectionStartElement=D.selectionEndElement=null,D.resetSelection()),t.includes("newtable_")){var r=t.split("_"),o=Number.parseInt(r[1]),i=Number.parseInt(r[2]);e.insertTable(n,i,o)}else{var a="after";switch(t){case"append-col-before":a="before";case"append-col":case"append-col-after":e.addCol(n,a);break;case"remove-col":e.removeCol(n);break;case"append-row-above":a="before";case"append-row":case"append-row-below":e.addRow(n,a);break;case"remove-row":e.removeRow(n);break;case"insert":e.insertTable(n,1,1);break;case"remove-table":e.removeTable(n);break;case"split-cell":e.splitCell(n);break;case"merge-selection":e.mergeSelection(n);break;case"remove-cell":e.removeCell(n);break;case"remove-selection":e.removeSelection(n);break;case"undo":if(n.history.stack.undo.length){var l=n.history.stack.undo[n.history.stack.undo.length-1];if(void 0!==l.type&&void 0!==l.id&&"tableHistory"===l.type)return M.undo(n,l.id),!1}return!0;case"redo":if(n.history.stack.redo.length){var c=n.history.stack.redo[n.history.stack.redo.length-1];if(void 0!==c.type&&void 0!==c.id&&"tableHistory"===c.type)return M.redo(n,c.id),!1}return!0;case"copy":if(D.selectionStartElement&&D.selectionEndElement){var s=window.getSelection(),u=s.anchorNode,p=s.anchorOffset,d=s.focusNode,f=s.focusOffset;window.getSelection().removeAllRanges();var b=document.createRange();return b.setStart(D.selectionStartElement,0),b.setEnd(D.selectionEndElement,D.selectionEndElement.childNodes.length),window.getSelection().addRange(b),D.selectionStartElement===D.selectionEndElement&&D.selectionStartElement.classList.remove("ql-cell-selected"),document.execCommand("copy"),D.selectionStartElement===D.selectionEndElement&&D.selectionStartElement.classList.add("ql-cell-selected"),window.getSelection().removeAllRanges(),b.setStart(u,p),b.setEnd(d,f),window.getSelection().addRange(b),!1}return!0}}}}]),e}();function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var H=s().import("parchment"),V=function(e){m(n,e);var t=$(n);function n(){return i(this,n),t.apply(this,arguments)}return l(n,[{key:"format",value:function(){}},{key:"optimize",value:function(e){if(0===this.children.length)if(null!=this.statics.defaultChild){var t=this.createDefaultChild();this.appendChild(t),t.optimize(e)}else this.remove();var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("row_id")===this.domNode.getAttribute("row_id")&&(n.moveChildren(this),n.remove())}},{key:"insertBefore",value:function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t}))){var r=this.createDefaultChild(t);r.appendChild(e),e=r}A(f(n.prototype),"insertBefore",this).call(this,e,t)}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var t=this.createDefaultChild();e.moveChildren(t,this),this.appendChild(t)}A(f(n.prototype),"replace",this).call(this,e)}},{key:"createDefaultChild",value:function(e){var t=null;return t=e?e.domNode.getAttribute("table_id"):this.parent?this.parent.domNode.getAttribute("table_id"):this.domNode.parent.getAttribute("table_id"),H.create(this.statics.defaultChild,[t,this.domNode.getAttribute("row_id"),X.random_id()].join("|"))}}],[{key:"create",value:function(e){var t=A(f(n),"create",this).call(this,"tr");return t.setAttribute("row_id",e||X.random_id()),t}}]),n}(q);V.blotName="tr",V.tagName="tr",V.scope=H.Scope.BLOCK_BLOT,V.defaultChild="td",V.allowedChildren=[P];const z=V;function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var J=s().import("parchment"),Z=function(e){m(n,e);var t=G(n);function n(){return i(this,n),t.apply(this,arguments)}return l(n,[{key:"format",value:function(){}},{key:"optimize",value:function(e){var t=this;A(f(n.prototype),"optimize",this).call(this,e);var r=X.getQuill(this.domNode);if(r){var o=this.next,i=this.domNode.getAttribute("table_id");null!=o&&o.prev===this&&o.domNode.getAttribute("table_id")===i&&o.statics.blotName===this.statics.blotName&&o.domNode.tagName===this.domNode.tagName&&(o.moveChildren(this),o.remove()),void 0!==r.table.tables[i]&&r.table.tables[i].cell_counter===this.domNode.querySelectorAll("td").length&&r.table.tables[i].row_counter===this.domNode.querySelectorAll("tr").length&&(this.domNode.querySelectorAll("td[cell_id][colspan], td[cell_id][rowspan]").forEach((function(e){var n=Array.prototype.indexOf.call(e.parentNode.children,e),r=Number.parseInt(e.getAttribute("colspan")||1),o=Number.parseInt(e.getAttribute("rowspan")||1);if(!t.domNode.querySelector('td[merge_id="'+e.getAttribute("cell_id")+'"]')&&(r>1||o>1))for(var i=e.parentNode,a=1;a<=o&&i;a++){for(var l=1===a?i.children[n+1]:i.children[n],c=1;c<=r;c++)if(1!==c||1!==a){var s=document.createElement("td");s.setAttribute("cell_id",X.random_id()),s.setAttribute("row_id",i.getAttribute("row_id")),s.setAttribute("table_id",t.domNode.getAttribute("table_id")),s.setAttribute("merge_id",e.getAttribute("cell_id"));var u=document.createElement("p"),p=document.createElement("br");u.appendChild(p),s.appendChild(u),i.insertBefore(s,l)}i=i.nextSibling}})),r.table.tables[i].pasted&&(M.register("insert",{node:this.domNode,nextNode:this.domNode.nextSibling,parentNode:this.domNode.parentNode}),M.add(r)),delete r.table.tables[i])}}},{key:"insertBefore",value:function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t}))){var r=J.create(this.statics.defaultChild,X.random_id());r.appendChild(e),e=r}A(f(n.prototype),"insertBefore",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=A(f(n),"create",this).call(this,"table");return t.setAttribute("table_id",e||X.random_id()),t}}]),n}(q);Z.blotName="table",Z.tagName="table",Z.scope=J.Scope.BLOCK_BLOT,Z.defaultChild="tr",Z.allowedChildren=[z];const K=Z;var Q=r(379),ee=r.n(Q),te=r(795),ne=r.n(te),re=r(569),oe=r.n(re),ie=r(565),ae=r.n(ie),le=r(216),ce=r.n(le),se=r(589),ue=r.n(se),pe=r(549),de={};de.styleTagTransform=ue(),de.setAttributes=ae(),de.insert=oe().bind(null,"head"),de.domAPI=ne(),de.insertStyleElement=ce();ee()(pe.Z,de);pe.Z&&pe.Z.locals&&pe.Z.locals;var fe=s().import("blots/container"),be=s().import("parchment");fe.order=["list","contain","td","tr","table"];var Ae=function(){function e(t,n){i(this,e),t.history.tableStack={},t.table={isInTable:!1,tables:{}},t.container.addEventListener("mousedown",(function(e){return D.mouseDown(t,e,n.cellSelectionOnClick)})),t.container.addEventListener("mousemove",(function(e){return D.mouseMove(t,e)})),t.container.addEventListener("mouseup",(function(e){return D.mouseUp(t,e)})),t.on("selection-change",(function(e,n){return D.selectionChange(t,e,n)})),t.getModule("toolbar").addHandler("table",(function(e){return X.table_handler(e,t)}));var r=t.getModule("clipboard");r.addMatcher("TABLE",(function(e,n){var r=null===e.closest(".ql-editor"),o=e.getAttribute("table_id");return o&&(t.table.tables[o]={pasted:r,row_counter:e.querySelectorAll("tr").length,cell_counter:e.querySelectorAll("td").length}),n})),r.addMatcher("TR",(function(e,t){return t})),r.addMatcher("TD",(function(e,t){var n=e.closest("table");if(!e.getAttribute("table_id")&&n&&(n.getAttribute("table_id")||n.setAttribute("table_id",X.random_id()),e.setAttribute("table_id",n.getAttribute("table_id"))),!e.getAttribute("row_id")){var r=e.closest("tr");r&&(r.getAttribute("row_id")||r.setAttribute("row_id",X.random_id()),e.setAttribute("row_id",r.getAttribute("row_id")))}return e.getAttribute("cell_id")||e.setAttribute("cell_id",X.random_id()),t.compose((new(p())).retain(t.length(),{td:[e.getAttribute("table_id"),e.getAttribute("row_id"),e.getAttribute("cell_id"),e.getAttribute("merge_id"),e.getAttribute("colspan"),e.getAttribute("rowspan")].join("|")}))})),L.enable(t,["newtable_*","insert","undo","redo"])}return l(e,null,[{key:"register",value:function(){s().register(P),s().register(z),s().register(K),s().register(q)}},{key:"tableOptions",value:function(){for(var e=[],t=1;t<=5;t++)for(var n=1;n<=5;n++)e.push("newtable_"+t+"_"+n);return e}},{key:"removeNodeChildren",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"keyboardHandler",value:function(e,t,r,o){var i=e.getFormat(r.index-1),a=e.getFormat(r.index+r.length);if("undo"===t||"redo"===t||"copy"===t)return X.table_handler(t,e);if(!i.td&&!o.format.td&&!a.td)return!0;if("backspace"===t){if(!o.offset&&!r.length){var l=window.getSelection(),c=function(e){for(var t=[],n=0;n<e.length;n++)t.push(n);return t.map((function(t){return e.item(t)}))}(document.querySelectorAll(".ql-editor p")).filter((function(e){return l.containsNode(e,!0)}));if(!c.length)return!0;if(D.getSelectionCoords())return!1;var u=!1;return c.forEach((function(e,t){if(e.previousSibling){if("TABLE"===e.previousSibling.nodeName){var n=e.previousSibling.querySelectorAll("td");n.length&&X._removeCell(n[n.length-1])&&(u=!0)}}else"TD"===e.parentNode.nodeName&&X._removeCell(e.parentNode)&&(u=!0)})),u&&M.add(e),!u}return!0}if("tab"===t){D.resetSelection();var p,d,f=n(e.getLeaf(e.getSelection().index),1)[0];if(f.parent.domNode.closest("td")){if(f.parent.domNode.closest("td").nextSibling){for(d=f.parent.domNode.closest("td").nextSibling;d&&d.getAttribute("merge_id");)d=d.nextSibling;p=s().find(d||f.parent.domNode.closest("tr").nextSibling)}else f.parent.domNode.closest("tr").nextSibling?p=s().find(f.parent.domNode.closest("tr").nextSibling):f.parent.domNode.closest("table").nextSibling&&(p=s().find(f.parent.domNode.closest("table").nextSibling));return k=p.offset(e.scroll),e.setSelection(k,0),!1}return!0}if("shiftTab"===t){D.resetSelection();var b,A,h,m=n(e.getLeaf(e.getSelection().index),1)[0];if(m.parent.domNode.closest("td")){if(m.parent.domNode.closest("td").previousSibling){for(h=m.parent.domNode.closest("td").previousSibling;h.getAttribute("merge_id");)h=h.previousSibling;A=s().find(h)}else if(m.parent.domNode.closest("tr").previousSibling){for(h=m.parent.domNode.closest("tr").previousSibling.lastChild;h.getAttribute("merge_id");)h=h.previousSibling;A=s().find(h)}else if(m.parent.domNode.closest("table").previousSibling)return!0;return b=A.offset(e.scroll),e.setSelection(b,0),!1}return!0}var y=e.selection.getNativeRange().start.node;if(!y)return!1;var g=be.find(y);if("delete"===t&&g&&o.offset<(g.text?g.text.length:0))return!0;var v=n(e.getLine(r.index-1),1)[0],E=n(e.getLine(r.index+1),1)[0];if("selectAll"===t){var w,C=n(e.getLine(e.getSelection().index),1)[0];if("TD"===C.parent.domNode.nodeName){w=C.parent.domNode.nextSibling?s().find(C.parent.domNode.nextSibling):C.parent.domNode.closest("tr").nextSibling?s().find(C.parent.domNode.closest("tr").nextSibling):s().find(C.parent.domNode.closest("table").nextSibling);var k=s().find(C.parent.domNode).offset(e.scroll),x=w.offset(e.scroll);return e.setSelection(k,x-k-1),!1}return!0}return!("backspace"!==t||!v||!v.next)||(!("delete"!==t||!E||!E.prev)||void 0)}}]),e}()})(),o})()));
//# sourceMappingURL=quill1-table.js.map